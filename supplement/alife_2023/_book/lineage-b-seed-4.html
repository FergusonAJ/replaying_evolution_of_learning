<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 4 Lineage B (Seed 4) | Supplement for: “Potentiating Mutations Facilitate the Evolution of Associative Learning in Digital Organisms”</title>
  <meta name="description" content="Supplemental material for our 2023 ALife submission" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 4 Lineage B (Seed 4) | Supplement for: “Potentiating Mutations Facilitate the Evolution of Associative Learning in Digital Organisms”" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Supplemental material for our 2023 ALife submission" />
  <meta name="github-repo" content="FergusonAJ/replaying_evolution_of_learning" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 4 Lineage B (Seed 4) | Supplement for: “Potentiating Mutations Facilitate the Evolution of Associative Learning in Digital Organisms”" />
  
  <meta name="twitter:description" content="Supplemental material for our 2023 ALife submission" />
  

<meta name="author" content="Austin J. Ferguson and Charles Ofria" />


<meta name="date" content="2023-05-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lineage-a-seed-86.html"/>
<link rel="next" href="lineage-c-seed-15.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Potentiating Mutations Facilitate the Evolution of Associative Learning in Digital Organisms</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html"><i class="fa fa-check"></i><b>2</b> Initial 200 parallel replicates</a>
<ul>
<li class="chapter" data-level="2.1" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html#dependencies"><i class="fa fa-check"></i><b>2.1</b> Dependencies</a></li>
<li class="chapter" data-level="2.2" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html#loading-data"><i class="fa fa-check"></i><b>2.2</b> Loading data</a></li>
<li class="chapter" data-level="2.3" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html#behavior-classification-summary"><i class="fa fa-check"></i><b>2.3</b> Behavior classification summary</a></li>
<li class="chapter" data-level="2.4" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html#accuracy-plots"><i class="fa fa-check"></i><b>2.4</b> Accuracy plots</a></li>
<li class="chapter" data-level="2.5" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html#raincloud-plots-individual-trials"><i class="fa fa-check"></i><b>2.5</b> Raincloud plots (individual trials)</a></li>
<li class="chapter" data-level="2.6" data-path="initial-200-parallel-replicates.html"><a href="initial-200-parallel-replicates.html#raincloud-plots-per-replicate"><i class="fa fa-check"></i><b>2.6</b> Raincloud plots (per replicate)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html"><i class="fa fa-check"></i><b>3</b> Lineage A (Seed 86)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#dependencies-1"><i class="fa fa-check"></i><b>3.1</b> Dependencies</a></li>
<li class="chapter" data-level="3.2" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#loading-data-1"><i class="fa fa-check"></i><b>3.2</b> Loading data</a></li>
<li class="chapter" data-level="3.3" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#lineage-data"><i class="fa fa-check"></i><b>3.3</b> Lineage data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#merit"><i class="fa fa-check"></i><b>3.3.1</b> Merit</a></li>
<li class="chapter" data-level="3.3.2" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#correct-states"><i class="fa fa-check"></i><b>3.3.2</b> Correct states</a></li>
<li class="chapter" data-level="3.3.3" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#incorrect-states"><i class="fa fa-check"></i><b>3.3.3</b> Incorrect states</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#replay-data"><i class="fa fa-check"></i><b>3.4</b> Replay data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#exploratory-replays"><i class="fa fa-check"></i><b>3.4.1</b> Exploratory replays</a></li>
<li class="chapter" data-level="3.4.2" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#targeted-replays"><i class="fa fa-check"></i><b>3.4.2</b> Targeted replays</a></li>
<li class="chapter" data-level="3.4.3" data-path="lineage-a-seed-86.html"><a href="lineage-a-seed-86.html#potentiation-of-other-behaviors"><i class="fa fa-check"></i><b>3.4.3</b> Potentiation of other behaviors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html"><i class="fa fa-check"></i><b>4</b> Lineage B (Seed 4)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#dependencies-2"><i class="fa fa-check"></i><b>4.1</b> Dependencies</a></li>
<li class="chapter" data-level="4.2" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#loading-data-2"><i class="fa fa-check"></i><b>4.2</b> Loading data</a></li>
<li class="chapter" data-level="4.3" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#lineage-data-1"><i class="fa fa-check"></i><b>4.3</b> Lineage data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#merit-1"><i class="fa fa-check"></i><b>4.3.1</b> Merit</a></li>
<li class="chapter" data-level="4.3.2" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#correct-states-1"><i class="fa fa-check"></i><b>4.3.2</b> Correct states</a></li>
<li class="chapter" data-level="4.3.3" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#incorrect-states-1"><i class="fa fa-check"></i><b>4.3.3</b> Incorrect states</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#replay-data-1"><i class="fa fa-check"></i><b>4.4</b> Replay data</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#exploratory-replays-1"><i class="fa fa-check"></i><b>4.4.1</b> Exploratory replays</a></li>
<li class="chapter" data-level="4.4.2" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#targeted-replays-1"><i class="fa fa-check"></i><b>4.4.2</b> Targeted replays</a></li>
<li class="chapter" data-level="4.4.3" data-path="lineage-b-seed-4.html"><a href="lineage-b-seed-4.html#potentiation-of-other-behaviors-1"><i class="fa fa-check"></i><b>4.4.3</b> Potentiation of other behaviors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html"><i class="fa fa-check"></i><b>5</b> Lineage C (Seed 15)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#dependencies-3"><i class="fa fa-check"></i><b>5.1</b> Dependencies</a></li>
<li class="chapter" data-level="5.2" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#loading-data-3"><i class="fa fa-check"></i><b>5.2</b> Loading data</a></li>
<li class="chapter" data-level="5.3" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#lineage-data-2"><i class="fa fa-check"></i><b>5.3</b> Lineage data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#merit-2"><i class="fa fa-check"></i><b>5.3.1</b> Merit</a></li>
<li class="chapter" data-level="5.3.2" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#correct-states-2"><i class="fa fa-check"></i><b>5.3.2</b> Correct states</a></li>
<li class="chapter" data-level="5.3.3" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#incorrect-states-2"><i class="fa fa-check"></i><b>5.3.3</b> Incorrect states</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#replay-data-2"><i class="fa fa-check"></i><b>5.4</b> Replay data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#exploratory-replays-2"><i class="fa fa-check"></i><b>5.4.1</b> Exploratory replays</a></li>
<li class="chapter" data-level="5.4.2" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#targeted-replays-2"><i class="fa fa-check"></i><b>5.4.2</b> Targeted replays</a></li>
<li class="chapter" data-level="5.4.3" data-path="lineage-c-seed-15.html"><a href="lineage-c-seed-15.html#potentiation-of-other-behaviors-2"><i class="fa fa-check"></i><b>5.4.3</b> Potentiation of other behaviors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html"><i class="fa fa-check"></i><b>6</b> Lineage D (Seed 6)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#dependencies-4"><i class="fa fa-check"></i><b>6.1</b> Dependencies</a></li>
<li class="chapter" data-level="6.2" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#loading-data-4"><i class="fa fa-check"></i><b>6.2</b> Loading data</a></li>
<li class="chapter" data-level="6.3" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#lineage-data-3"><i class="fa fa-check"></i><b>6.3</b> Lineage data</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#merit-3"><i class="fa fa-check"></i><b>6.3.1</b> Merit</a></li>
<li class="chapter" data-level="6.3.2" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#correct-states-3"><i class="fa fa-check"></i><b>6.3.2</b> Correct states</a></li>
<li class="chapter" data-level="6.3.3" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#incorrect-states-3"><i class="fa fa-check"></i><b>6.3.3</b> Incorrect states</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#replay-data-3"><i class="fa fa-check"></i><b>6.4</b> Replay data</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#exploratory-replays-3"><i class="fa fa-check"></i><b>6.4.1</b> Exploratory replays</a></li>
<li class="chapter" data-level="6.4.2" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#targeted-replays-3"><i class="fa fa-check"></i><b>6.4.2</b> Targeted replays</a></li>
<li class="chapter" data-level="6.4.3" data-path="lineage-d-seed-6.html"><a href="lineage-d-seed-6.html#potentiation-of-other-behaviors-3"><i class="fa fa-check"></i><b>6.4.3</b> Potentiation of other behaviors</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with ❤ and bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Supplement for: “Potentiating Mutations Facilitate the Evolution of Associative Learning in Digital Organisms”</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lineage-b-seed-4" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Section 4</span> Lineage B (Seed 4)<a href="lineage-b-seed-4.html#lineage-b-seed-4" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Here we plot more details of Lineage B than would fit in the paper.
If you are looking through the experiment files, Lineage B was seed 4.
All data for Lineage B can be found in the <code>data/reps/4/</code> directory.</p>
<div id="dependencies-2" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Dependencies<a href="lineage-b-seed-4.html#dependencies-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="lineage-b-seed-4.html#cb28-1" aria-hidden="true"></a><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</span>
<span id="cb28-2"><a href="lineage-b-seed-4.html#cb28-2" aria-hidden="true"></a><span class="co"># External</span></span>
<span id="cb28-3"><a href="lineage-b-seed-4.html#cb28-3" aria-hidden="true"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb28-4"><a href="lineage-b-seed-4.html#cb28-4" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb28-5"><a href="lineage-b-seed-4.html#cb28-5" aria-hidden="true"></a><span class="kw">source</span>(<span class="st">&quot;https://gist.githubusercontent.com/benmarwick/2a1bb0133ff568cbe28d/raw/fb53bd97121f7f9ce947837ef1a4c65a73bffb3f/geom_flat_violin.R&quot;</span>)</span>
<span id="cb28-6"><a href="lineage-b-seed-4.html#cb28-6" aria-hidden="true"></a></span>
<span id="cb28-7"><a href="lineage-b-seed-4.html#cb28-7" aria-hidden="true"></a><span class="co"># Configuration variables</span></span>
<span id="cb28-8"><a href="lineage-b-seed-4.html#cb28-8" aria-hidden="true"></a>base_repo_dir =<span class="st"> &#39;../..&#39;</span></span>
<span id="cb28-9"><a href="lineage-b-seed-4.html#cb28-9" aria-hidden="true"></a>exp_dir =<span class="st"> </span><span class="kw">paste0</span>(base_repo_dir, <span class="st">&#39;/experiments/alife_2023/2023_02_21_01__initial_10_cooldown&#39;</span>)</span>
<span id="cb28-10"><a href="lineage-b-seed-4.html#cb28-10" aria-hidden="true"></a></span>
<span id="cb28-11"><a href="lineage-b-seed-4.html#cb28-11" aria-hidden="true"></a>seed =<span class="st"> </span><span class="dv">4</span> </span>
<span id="cb28-12"><a href="lineage-b-seed-4.html#cb28-12" aria-hidden="true"></a>potentiation_window_start =<span class="st"> </span><span class="dv">50</span></span>
<span id="cb28-13"><a href="lineage-b-seed-4.html#cb28-13" aria-hidden="true"></a>potentiation_window_stop =<span class="st"> </span><span class="dv">150</span></span>
<span id="cb28-14"><a href="lineage-b-seed-4.html#cb28-14" aria-hidden="true"></a>potentiation_target =<span class="st"> </span><span class="dv">104</span></span>
<span id="cb28-15"><a href="lineage-b-seed-4.html#cb28-15" aria-hidden="true"></a></span>
<span id="cb28-16"><a href="lineage-b-seed-4.html#cb28-16" aria-hidden="true"></a><span class="co"># Internal</span></span>
<span id="cb28-17"><a href="lineage-b-seed-4.html#cb28-17" aria-hidden="true"></a><span class="kw">source</span>(<span class="kw">paste0</span>(base_repo_dir, <span class="st">&#39;/global_shared_files/constant_vars__three_cues_one_set.R&#39;</span>))</span>
<span id="cb28-18"><a href="lineage-b-seed-4.html#cb28-18" aria-hidden="true"></a><span class="kw">source</span>(<span class="kw">paste0</span>(base_repo_dir, <span class="st">&#39;/global_shared_files/shared_funcs__three_cues_one_set.R&#39;</span>))</span></code></pre></div>
</div>
<div id="loading-data-2" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Loading data<a href="lineage-b-seed-4.html#loading-data-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To save time, we load the pre-processed data.</p>
<p>To see how the data gets processed, please see <code>./analysis/replay_analysis.R</code> from the experiment directory.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="lineage-b-seed-4.html#cb29-1" aria-hidden="true"></a><span class="co"># Data for all trials from all replay replicates</span></span>
<span id="cb29-2"><a href="lineage-b-seed-4.html#cb29-2" aria-hidden="true"></a>df =<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">paste0</span>(exp_dir, <span class="st">&#39;/data/reps/&#39;</span>, seed, <span class="st">&#39;/replays/processed_data/processed_replay_data.csv&#39;</span>))</span>
<span id="cb29-3"><a href="lineage-b-seed-4.html#cb29-3" aria-hidden="true"></a><span class="co"># One line per replay replicate that summarizes all 100 trials</span></span>
<span id="cb29-4"><a href="lineage-b-seed-4.html#cb29-4" aria-hidden="true"></a>df_summary =<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">paste0</span>(exp_dir, <span class="st">&#39;/data/reps/&#39;</span>, seed, <span class="st">&#39;/replays/processed_data/processed_replay_summary.csv&#39;</span>))</span>
<span id="cb29-5"><a href="lineage-b-seed-4.html#cb29-5" aria-hidden="true"></a><span class="co"># Sumamrize each category, e.g., how many replicates evolved error correction?</span></span>
<span id="cb29-6"><a href="lineage-b-seed-4.html#cb29-6" aria-hidden="true"></a>classification_summary =<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">paste0</span>(exp_dir, <span class="st">&#39;/data/reps/&#39;</span>, seed, <span class="st">&#39;/replays/processed_data/processed_replay_classification.csv&#39;</span>))</span>
<span id="cb29-7"><a href="lineage-b-seed-4.html#cb29-7" aria-hidden="true"></a><span class="co"># Also grab lineage data</span></span>
<span id="cb29-8"><a href="lineage-b-seed-4.html#cb29-8" aria-hidden="true"></a>df_lineage =<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">paste0</span>(exp_dir, <span class="st">&#39;/data/reps/&#39;</span>, seed, <span class="st">&#39;/dominant_lineage_summary.csv&#39;</span>))</span>
<span id="cb29-9"><a href="lineage-b-seed-4.html#cb29-9" aria-hidden="true"></a><span class="co"># Because lineage data was collected on the cluster before we renamed a few classifications, rename them now!</span></span>
<span id="cb29-10"><a href="lineage-b-seed-4.html#cb29-10" aria-hidden="true"></a>df_lineage[df_lineage<span class="op">$</span>seed_classification <span class="op">==</span><span class="st"> &#39;Bet-hedged imprinting&#39;</span>,]<span class="op">$</span>seed_classification_factor =<span class="st"> </span>seed_class_bet_hedged_learning</span>
<span id="cb29-11"><a href="lineage-b-seed-4.html#cb29-11" aria-hidden="true"></a>df_lineage[df_lineage<span class="op">$</span>seed_classification <span class="op">==</span><span class="st"> &#39;Bet-hedged imprinting&#39;</span>,]<span class="op">$</span>seed_classification =<span class="st"> </span>seed_class_bet_hedged_learning</span>
<span id="cb29-12"><a href="lineage-b-seed-4.html#cb29-12" aria-hidden="true"></a>df_lineage[df_lineage<span class="op">$</span>seed_classification <span class="op">==</span><span class="st"> &#39;Small&#39;</span>,]<span class="op">$</span>seed_classification_factor =<span class="st"> </span>seed_class_small</span>
<span id="cb29-13"><a href="lineage-b-seed-4.html#cb29-13" aria-hidden="true"></a>df_lineage[df_lineage<span class="op">$</span>seed_classification <span class="op">==</span><span class="st"> &#39;Small&#39;</span>,]<span class="op">$</span>seed_classification =<span class="st"> </span>seed_class_small</span></code></pre></div>
</div>
<div id="lineage-data-1" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Lineage data<a href="lineage-b-seed-4.html#lineage-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While not shown in the paper due to space limitations, it is important to look at the initial replicate’s lineage and how it changes over time.</p>
<p>The code for these plots is copied from the <code>single_seed_lineage_analysis.R</code> script.</p>
<div id="merit-1" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Merit<a href="lineage-b-seed-4.html#merit-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we look at the lineage as a whole and how average merit changes over time (note the y-axis is logarithmic)</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="lineage-b-seed-4.html#cb30-1" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage, <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb30-2"><a href="lineage-b-seed-4.html#cb30-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> merit_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb30-3"><a href="lineage-b-seed-4.html#cb30-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> merit_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb30-4"><a href="lineage-b-seed-4.html#cb30-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">trans =</span> <span class="st">&#39;log2&#39;</span>) <span class="op">+</span></span>
<span id="cb30-5"><a href="lineage-b-seed-4.html#cb30-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb30-6"><a href="lineage-b-seed-4.html#cb30-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb30-7"><a href="lineage-b-seed-4.html#cb30-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb30-8"><a href="lineage-b-seed-4.html#cb30-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb30-9"><a href="lineage-b-seed-4.html#cb30-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean merit&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb30-10"><a href="lineage-b-seed-4.html#cb30-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>Additionally, we can zoom in to view just the potentiation window.
The vertical dashed line shows the main potentiating step, step 104, while the horizontal dashed line shows average merit at that step for easier comparisons.
Note that this plot is <em>not</em> logarithmic.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="lineage-b-seed-4.html#cb31-1" aria-hidden="true"></a>potentiation_mask =<span class="st"> </span>df_lineage<span class="op">$</span>depth <span class="op">&gt;=</span><span class="st"> </span>potentiation_window_start <span class="op">&amp;</span><span class="st"> </span>df_lineage<span class="op">$</span>depth <span class="op">&lt;=</span><span class="st"> </span>potentiation_window_stop</span>
<span id="cb31-2"><a href="lineage-b-seed-4.html#cb31-2" aria-hidden="true"></a>target_step_merit_mean =<span class="st"> </span>df_lineage[df_lineage<span class="op">$</span>depth <span class="op">==</span><span class="st"> </span>potentiation_target,]<span class="op">$</span>merit_mean</span>
<span id="cb31-3"><a href="lineage-b-seed-4.html#cb31-3" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage[potentiation_mask,], <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb31-4"><a href="lineage-b-seed-4.html#cb31-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> potentiation_target), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb31-5"><a href="lineage-b-seed-4.html#cb31-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> target_step_merit_mean), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb31-6"><a href="lineage-b-seed-4.html#cb31-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> merit_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb31-7"><a href="lineage-b-seed-4.html#cb31-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> merit_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb31-8"><a href="lineage-b-seed-4.html#cb31-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb31-9"><a href="lineage-b-seed-4.html#cb31-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb31-10"><a href="lineage-b-seed-4.html#cb31-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb31-11"><a href="lineage-b-seed-4.html#cb31-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb31-12"><a href="lineage-b-seed-4.html#cb31-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean merit&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb31-13"><a href="lineage-b-seed-4.html#cb31-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>We see a small increase in merit at the potentiation mutation.</p>
<p>We can also normalize the merit based on the potentiating step.
Remember that one additional correct state confers a merit bonus of 10%.
We see this jump is larger than 10%.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="lineage-b-seed-4.html#cb32-1" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage[potentiation_mask,], <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb32-2"><a href="lineage-b-seed-4.html#cb32-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> potentiation_target), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb32-3"><a href="lineage-b-seed-4.html#cb32-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> <span class="dv">1</span>), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb32-4"><a href="lineage-b-seed-4.html#cb32-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> merit_mean <span class="op">/</span><span class="st"> </span>target_step_merit_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb32-5"><a href="lineage-b-seed-4.html#cb32-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> merit_mean <span class="op">/</span><span class="st"> </span>target_step_merit_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb32-6"><a href="lineage-b-seed-4.html#cb32-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb32-7"><a href="lineage-b-seed-4.html#cb32-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb32-8"><a href="lineage-b-seed-4.html#cb32-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb32-9"><a href="lineage-b-seed-4.html#cb32-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb32-10"><a href="lineage-b-seed-4.html#cb32-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean merit&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb32-11"><a href="lineage-b-seed-4.html#cb32-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
<div id="correct-states-1" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Correct states<a href="lineage-b-seed-4.html#correct-states-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Similarly, we can look at the number of correct states both overall and in the potentiation window:</p>
<p>Overall:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="lineage-b-seed-4.html#cb33-1" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage, <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb33-2"><a href="lineage-b-seed-4.html#cb33-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> correct_doors_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb33-3"><a href="lineage-b-seed-4.html#cb33-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> correct_doors_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb33-4"><a href="lineage-b-seed-4.html#cb33-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb33-5"><a href="lineage-b-seed-4.html#cb33-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb33-6"><a href="lineage-b-seed-4.html#cb33-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb33-7"><a href="lineage-b-seed-4.html#cb33-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb33-8"><a href="lineage-b-seed-4.html#cb33-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean correct states&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb33-9"><a href="lineage-b-seed-4.html#cb33-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>Potentiation window (dashed lines show the main potentiating mutation):</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="lineage-b-seed-4.html#cb34-1" aria-hidden="true"></a>target_step_correct_doors_mean =<span class="st"> </span>df_lineage[df_lineage<span class="op">$</span>depth <span class="op">==</span><span class="st"> </span>potentiation_target,]<span class="op">$</span>correct_doors_mean</span>
<span id="cb34-2"><a href="lineage-b-seed-4.html#cb34-2" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage[potentiation_mask,], <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb34-3"><a href="lineage-b-seed-4.html#cb34-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> potentiation_target), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb34-4"><a href="lineage-b-seed-4.html#cb34-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> target_step_correct_doors_mean), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb34-5"><a href="lineage-b-seed-4.html#cb34-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> correct_doors_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb34-6"><a href="lineage-b-seed-4.html#cb34-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> correct_doors_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb34-7"><a href="lineage-b-seed-4.html#cb34-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb34-8"><a href="lineage-b-seed-4.html#cb34-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb34-9"><a href="lineage-b-seed-4.html#cb34-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb34-10"><a href="lineage-b-seed-4.html#cb34-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb34-11"><a href="lineage-b-seed-4.html#cb34-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean correct states&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb34-12"><a href="lineage-b-seed-4.html#cb34-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p>We see also an increase in correct states at the potentiating mutation.</p>
</div>
<div id="incorrect-states-1" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Incorrect states<a href="lineage-b-seed-4.html#incorrect-states-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Just like our analysis of correct states, we can also look at the average <em>incorrect</em> states over time.
By incorrect states, we mean the wrong movements while in a <em>left</em>, <em>right</em>, or <em>forward</em> state.
Incorrect movements from a <em>backward</em> state are tracked separately.</p>
<p>Overall:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="lineage-b-seed-4.html#cb35-1" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage, <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb35-2"><a href="lineage-b-seed-4.html#cb35-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> incorrect_doors_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb35-3"><a href="lineage-b-seed-4.html#cb35-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> incorrect_doors_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb35-4"><a href="lineage-b-seed-4.html#cb35-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb35-5"><a href="lineage-b-seed-4.html#cb35-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb35-6"><a href="lineage-b-seed-4.html#cb35-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb35-7"><a href="lineage-b-seed-4.html#cb35-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb35-8"><a href="lineage-b-seed-4.html#cb35-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean incorrect states&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb35-9"><a href="lineage-b-seed-4.html#cb35-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Potentiation window:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="lineage-b-seed-4.html#cb36-1" aria-hidden="true"></a>target_step_incorrect_doors_mean =<span class="st"> </span>df_lineage[df_lineage<span class="op">$</span>depth <span class="op">==</span><span class="st"> </span>potentiation_target,]<span class="op">$</span>incorrect_doors_mean</span>
<span id="cb36-2"><a href="lineage-b-seed-4.html#cb36-2" aria-hidden="true"></a><span class="kw">ggplot</span>(df_lineage[potentiation_mask,], <span class="kw">aes</span>(<span class="dt">x =</span> depth)) <span class="op">+</span></span>
<span id="cb36-3"><a href="lineage-b-seed-4.html#cb36-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> potentiation_target), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb36-4"><a href="lineage-b-seed-4.html#cb36-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> target_step_incorrect_doors_mean), <span class="dt">linetype =</span> <span class="st">&#39;dashed&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb36-5"><a href="lineage-b-seed-4.html#cb36-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> incorrect_doors_mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb36-6"><a href="lineage-b-seed-4.html#cb36-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> incorrect_doors_mean, <span class="dt">color =</span> seed_classification), <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb36-7"><a href="lineage-b-seed-4.html#cb36-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span></span>
<span id="cb36-8"><a href="lineage-b-seed-4.html#cb36-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)) <span class="op">+</span></span>
<span id="cb36-9"><a href="lineage-b-seed-4.html#cb36-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb36-10"><a href="lineage-b-seed-4.html#cb36-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb36-11"><a href="lineage-b-seed-4.html#cb36-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Mean incorrect states&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb36-12"><a href="lineage-b-seed-4.html#cb36-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<p>We see that the potentiating mutation was able to increase the correct states without increasing the number of incorrect states.</p>
</div>
</div>
<div id="replay-data-1" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Replay data<a href="lineage-b-seed-4.html#replay-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we know what the lineage looks like, we can begin to break down the replay data.</p>
<div id="exploratory-replays-1" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Exploratory replays<a href="lineage-b-seed-4.html#exploratory-replays-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We started by seeding 50 replay replicates for every 50th step along the lineage in the window [50, 1000].
The data for step 0 comes from the initial 200 replicates.</p>
<p>Here we show the potentiation over time for those exploratory replays:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="lineage-b-seed-4.html#cb37-1" aria-hidden="true"></a>df_learning_summary =<span class="st"> </span>classification_summary[classification_summary<span class="op">$</span>seed_classification <span class="op">==</span><span class="st"> </span>seed_class_learning,]</span>
<span id="cb37-2"><a href="lineage-b-seed-4.html#cb37-2" aria-hidden="true"></a>df_learning_summary<span class="op">$</span>lineage_classification =<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb37-3"><a href="lineage-b-seed-4.html#cb37-3" aria-hidden="true"></a><span class="co"># Assign each depth its classification from the lineage data</span></span>
<span id="cb37-4"><a href="lineage-b-seed-4.html#cb37-4" aria-hidden="true"></a><span class="cf">for</span>(depth <span class="cf">in</span> <span class="kw">unique</span>(df_learning_summary<span class="op">$</span>depth)){</span>
<span id="cb37-5"><a href="lineage-b-seed-4.html#cb37-5" aria-hidden="true"></a>  df_learning_summary[df_learning_summary<span class="op">$</span>depth <span class="op">==</span><span class="st"> </span>depth,]<span class="op">$</span>lineage_classification =<span class="st"> </span>df_lineage[df_lineage<span class="op">$</span>depth <span class="op">==</span><span class="st"> </span>depth,]<span class="op">$</span>seed_classification</span>
<span id="cb37-6"><a href="lineage-b-seed-4.html#cb37-6" aria-hidden="true"></a>}</span>
<span id="cb37-7"><a href="lineage-b-seed-4.html#cb37-7" aria-hidden="true"></a><span class="co"># Create masks</span></span>
<span id="cb37-8"><a href="lineage-b-seed-4.html#cb37-8" aria-hidden="true"></a>mask_learning_summary_focal =<span class="st"> </span>df_learning_summary<span class="op">$</span>depth <span class="op">%in%</span><span class="st"> </span>potentiation_window_start<span class="op">:</span>potentiation_window_stop </span>
<span id="cb37-9"><a href="lineage-b-seed-4.html#cb37-9" aria-hidden="true"></a>mask_learning_summary_initial =<span class="st"> </span>df_learning_summary<span class="op">$</span>depth <span class="op">%%</span><span class="st"> </span><span class="dv">50</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span></span>
<span id="cb37-10"><a href="lineage-b-seed-4.html#cb37-10" aria-hidden="true"></a></span>
<span id="cb37-11"><a href="lineage-b-seed-4.html#cb37-11" aria-hidden="true"></a><span class="kw">ggplot</span>(df_learning_summary[mask_learning_summary_initial,], <span class="kw">aes</span>(<span class="dt">x=</span>depth)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-12"><a href="lineage-b-seed-4.html#cb37-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac<span class="op">*</span><span class="dv">100</span>), <span class="dt">size =</span> <span class="fl">1.05</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-13"><a href="lineage-b-seed-4.html#cb37-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac<span class="op">*</span><span class="dv">100</span>, <span class="dt">color =</span> <span class="kw">as.factor</span>(lineage_classification)), <span class="dt">size =</span> <span class="fl">2.5</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-14"><a href="lineage-b-seed-4.html#cb37-14" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-15"><a href="lineage-b-seed-4.html#cb37-15" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-16"><a href="lineage-b-seed-4.html#cb37-16" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.1</span>,<span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb37-17"><a href="lineage-b-seed-4.html#cb37-17" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb37-18"><a href="lineage-b-seed-4.html#cb37-18" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-19"><a href="lineage-b-seed-4.html#cb37-19" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb37-20"><a href="lineage-b-seed-4.html#cb37-20" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb37-21"><a href="lineage-b-seed-4.html#cb37-21" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb37-22"><a href="lineage-b-seed-4.html#cb37-22" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>)) <span class="op">+</span></span>
<span id="cb37-23"><a href="lineage-b-seed-4.html#cb37-23" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;none&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>We can then identify the potentiation window based on the points with the most potentiation gain.</p>
<p>Here we selected steps 50-150 (green shaded region):</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="lineage-b-seed-4.html#cb38-1" aria-hidden="true"></a><span class="kw">ggplot</span>(df_learning_summary[mask_learning_summary_initial,], <span class="kw">aes</span>(<span class="dt">x=</span>depth)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-2"><a href="lineage-b-seed-4.html#cb38-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;rect&quot;</span>, <span class="dt">xmin=</span>potentiation_window_start, <span class="dt">xmax=</span>potentiation_window_stop, <span class="dt">ymin=</span><span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ymax=</span><span class="ot">Inf</span>, <span class="dt">alpha=</span><span class="fl">0.2</span>, <span class="dt">fill=</span><span class="st">&quot;#64e164&quot;</span>) <span class="op">+</span></span>
<span id="cb38-3"><a href="lineage-b-seed-4.html#cb38-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac<span class="op">*</span><span class="dv">100</span>), <span class="dt">size =</span> <span class="fl">1.05</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-4"><a href="lineage-b-seed-4.html#cb38-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac<span class="op">*</span><span class="dv">100</span>, <span class="dt">color =</span> <span class="kw">as.factor</span>(lineage_classification)), <span class="dt">size =</span> <span class="fl">2.5</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-5"><a href="lineage-b-seed-4.html#cb38-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-6"><a href="lineage-b-seed-4.html#cb38-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-7"><a href="lineage-b-seed-4.html#cb38-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.1</span>,<span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb38-8"><a href="lineage-b-seed-4.html#cb38-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb38-9"><a href="lineage-b-seed-4.html#cb38-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-10"><a href="lineage-b-seed-4.html#cb38-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb38-11"><a href="lineage-b-seed-4.html#cb38-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb38-12"><a href="lineage-b-seed-4.html#cb38-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb38-13"><a href="lineage-b-seed-4.html#cb38-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>)) <span class="op">+</span></span>
<span id="cb38-14"><a href="lineage-b-seed-4.html#cb38-14" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;none&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
</div>
<div id="targeted-replays-1" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Targeted replays<a href="lineage-b-seed-4.html#targeted-replays-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>With the potentiation window identified, we seeded targeted replays.</p>
<p>For the targeted replays, we seeded 50 replay replicates from <em>every</em> step in the potetiation window.
This gives us an idea of how individual steps in the phylogney affected potentiation.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="lineage-b-seed-4.html#cb39-1" aria-hidden="true"></a><span class="kw">ggplot</span>(df_learning_summary[mask_learning_summary_focal,], <span class="kw">aes</span>(<span class="dt">x=</span>depth)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-2"><a href="lineage-b-seed-4.html#cb39-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;rect&quot;</span>, <span class="dt">xmin=</span>potentiation_window_start, <span class="dt">xmax=</span>potentiation_window_stop, <span class="dt">ymin=</span><span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ymax=</span><span class="ot">Inf</span>, <span class="dt">alpha=</span><span class="fl">0.2</span>, <span class="dt">fill=</span><span class="st">&quot;#64e164&quot;</span>) <span class="op">+</span></span>
<span id="cb39-3"><a href="lineage-b-seed-4.html#cb39-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> potentiation_target), <span class="dt">linetype =</span> <span class="st">&#39;dotted&#39;</span>) <span class="op">+</span></span>
<span id="cb39-4"><a href="lineage-b-seed-4.html#cb39-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac<span class="op">*</span><span class="dv">100</span>), <span class="dt">size =</span> <span class="fl">1.05</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-5"><a href="lineage-b-seed-4.html#cb39-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac<span class="op">*</span><span class="dv">100</span>, <span class="dt">color =</span> <span class="kw">as.factor</span>(lineage_classification)), <span class="dt">size =</span> <span class="fl">2.5</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-6"><a href="lineage-b-seed-4.html#cb39-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-7"><a href="lineage-b-seed-4.html#cb39-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-8"><a href="lineage-b-seed-4.html#cb39-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.1</span>,<span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb39-9"><a href="lineage-b-seed-4.html#cb39-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb39-10"><a href="lineage-b-seed-4.html#cb39-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-11"><a href="lineage-b-seed-4.html#cb39-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb39-12"><a href="lineage-b-seed-4.html#cb39-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb39-13"><a href="lineage-b-seed-4.html#cb39-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb39-14"><a href="lineage-b-seed-4.html#cb39-14" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>)) <span class="op">+</span></span>
<span id="cb39-15"><a href="lineage-b-seed-4.html#cb39-15" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;none&#39;</span>)</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>This plot was extensively discussed in the paper, so we refrain from additional discussion here.</p>
</div>
<div id="potentiation-of-other-behaviors-1" class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Potentiation of other behaviors<a href="lineage-b-seed-4.html#potentiation-of-other-behaviors-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While the paper mostly focused on learning, it can be useful to see how the potentiation of other behaviors changes before learning takes over.</p>
<p>These plots are included as inspiration for future work.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="lineage-b-seed-4.html#cb40-1" aria-hidden="true"></a>mask_focal =<span class="st"> </span>classification_summary<span class="op">$</span>depth <span class="op">%in%</span><span class="st"> </span>potentiation_window_start<span class="op">:</span>potentiation_window_stop</span>
<span id="cb40-2"><a href="lineage-b-seed-4.html#cb40-2" aria-hidden="true"></a>mask_initial =<span class="st"> </span>classification_summary<span class="op">$</span>depth <span class="op">%%</span><span class="st"> </span><span class="dv">50</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span></span>
<span id="cb40-3"><a href="lineage-b-seed-4.html#cb40-3" aria-hidden="true"></a><span class="kw">ggplot</span>(classification_summary[mask_initial,], <span class="kw">aes</span>(<span class="dt">x=</span>depth, <span class="dt">color =</span> seed_classification_factor)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb40-4"><a href="lineage-b-seed-4.html#cb40-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac), <span class="dt">size=</span><span class="fl">1.2</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb40-5"><a href="lineage-b-seed-4.html#cb40-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac), <span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb40-6"><a href="lineage-b-seed-4.html#cb40-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb40-7"><a href="lineage-b-seed-4.html#cb40-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb40-8"><a href="lineage-b-seed-4.html#cb40-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.1</span>,<span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb40-9"><a href="lineage-b-seed-4.html#cb40-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb40-10"><a href="lineage-b-seed-4.html#cb40-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb40-11"><a href="lineage-b-seed-4.html#cb40-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb40-12"><a href="lineage-b-seed-4.html#cb40-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb40-13"><a href="lineage-b-seed-4.html#cb40-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>))</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<p>Here is the same data, but plotted as an area plot:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="lineage-b-seed-4.html#cb41-1" aria-hidden="true"></a><span class="kw">ggplot</span>(classification_summary[mask_initial,], <span class="kw">aes</span>(<span class="dt">x =</span> depth, <span class="dt">y =</span> frac, <span class="dt">fill =</span> seed_classification_factor)) <span class="op">+</span></span>
<span id="cb41-2"><a href="lineage-b-seed-4.html#cb41-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_area</span>() <span class="op">+</span></span>
<span id="cb41-3"><a href="lineage-b-seed-4.html#cb41-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb41-4"><a href="lineage-b-seed-4.html#cb41-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb41-5"><a href="lineage-b-seed-4.html#cb41-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb41-6"><a href="lineage-b-seed-4.html#cb41-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb41-7"><a href="lineage-b-seed-4.html#cb41-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb41-8"><a href="lineage-b-seed-4.html#cb41-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb41-9"><a href="lineage-b-seed-4.html#cb41-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb41-10"><a href="lineage-b-seed-4.html#cb41-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>))</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>Here are the same two plots showing the potentiation window and the targeted replays:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="lineage-b-seed-4.html#cb42-1" aria-hidden="true"></a><span class="kw">ggplot</span>(classification_summary[mask_focal,], <span class="kw">aes</span>(<span class="dt">x=</span>depth, <span class="dt">color =</span> seed_classification_factor)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-2"><a href="lineage-b-seed-4.html#cb42-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac), <span class="dt">size=</span><span class="fl">1.2</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-3"><a href="lineage-b-seed-4.html#cb42-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">y =</span> frac), <span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-4"><a href="lineage-b-seed-4.html#cb42-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-5"><a href="lineage-b-seed-4.html#cb42-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-6"><a href="lineage-b-seed-4.html#cb42-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.1</span>,<span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb42-7"><a href="lineage-b-seed-4.html#cb42-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb42-8"><a href="lineage-b-seed-4.html#cb42-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-9"><a href="lineage-b-seed-4.html#cb42-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb42-10"><a href="lineage-b-seed-4.html#cb42-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb42-11"><a href="lineage-b-seed-4.html#cb42-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>))</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="lineage-b-seed-4.html#cb43-1" aria-hidden="true"></a><span class="kw">ggplot</span>(classification_summary[mask_focal,], <span class="kw">aes</span>(<span class="dt">x =</span> depth, <span class="dt">y =</span> frac, <span class="dt">fill =</span> seed_classification_factor)) <span class="op">+</span></span>
<span id="cb43-2"><a href="lineage-b-seed-4.html#cb43-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_area</span>() <span class="op">+</span></span>
<span id="cb43-3"><a href="lineage-b-seed-4.html#cb43-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> color_map) <span class="op">+</span><span class="st"> </span></span>
<span id="cb43-4"><a href="lineage-b-seed-4.html#cb43-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb43-5"><a href="lineage-b-seed-4.html#cb43-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb43-6"><a href="lineage-b-seed-4.html#cb43-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;phylogenetic step&#39;</span>) <span class="op">+</span></span>
<span id="cb43-7"><a href="lineage-b-seed-4.html#cb43-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;percentage of replays that evolve learning&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb43-8"><a href="lineage-b-seed-4.html#cb43-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&#39;Classification&#39;</span>) <span class="op">+</span></span>
<span id="cb43-9"><a href="lineage-b-seed-4.html#cb43-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb43-10"><a href="lineage-b-seed-4.html#cb43-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>))</span></code></pre></div>
<p><img src="alife_2023_supplement_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lineage-a-seed-86.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lineage-c-seed-15.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/FergusonAJ/replaying_evolution_of_learning/tree/main/supplement/alife_2023lineage_b.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["alife_2023_supplement.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
